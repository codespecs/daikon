# Workaround for https://status.dev.azure.com/_event/179641421
trigger:
  branches:
    include:
    - '*'
pr:
  branches:
    include:
    - '*'


jobs:

# The dependsOn clauses are:
#  * Everything not *_ubuntu_jdk11 or typecheck_jdk11 depends on jdk11_jobs.
#  * Anything *_jdk8 depends on *_jdk11.
#  * Anything *_jdk17 depends on *_jdk11.
#  * Anything *_centos_* or *_fedora_* depends on *_ubuntu_*.

# The remainder of jobs are run only if the jdk11_jobs pass.
- job: misc_ubuntu_jdk8
  pool:
    vmImage: 'ubuntu-latest'
  container: mdernst/daikon-ubuntu-jdk8-plus:latest
  steps:
  - checkout: self
    fetchDepth: 25
  - bash: make showvars
    displayName: make showvars
  - bash: ./scripts/test-misc.sh
    displayName: test-misc.sh

